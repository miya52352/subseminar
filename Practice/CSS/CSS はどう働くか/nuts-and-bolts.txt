CSS は実際にはどう機能するのか

1. ブラウザーが HTML をロードします（ネットワークから受信するなど）。
2. HTML を DOM (Document Object Model) に変換します。 DOM は文書をコンピューターのメモリー内で
   表現したものです。 DOM については、次の節でもう少し詳しく説明します。
3. その後ブラウザーは HTML 文書にリンクされているリソース、例えば埋め込まれた画像や動画、そして
   リンクされた CSS をも取得します。JavaScript はもう少し後に処理されるため、ここでは簡略化のため
   説明しません。
4. ブラウザーは取得した CSS を構文解析し、要素、クラス、ID などセレクターの種類ごとに分類します。
   見つけたセレクターに基づいて、DOM のどのノードにどのルールを適用するかを決定し
   スタイルを適用します（この中間ステップはレンダーツリーと呼ばれます）。
5. レンダーツリーは、ルール適用後の構造にレイアウトされます。
6. ページが画面に表示されます（この段階はペイントと呼ばれます）。

図解
https://developer.mozilla.org/ja/docs/Learn/CSS/First_steps/How_CSS_works/rendering.svg












DOM の実際

    以下のような HTML があります。
<p>
  Let's use:
  <span>Cascading</span>
  <span>Style</span>
  <span>Sheets</span>
</p>

    DOMでは以下のようなツリー構造になります
P
├─ "Let's use:"
├─ SPAN
|  └─ "Cascading"
├─ SPAN
|  └─ "Style"
└─ SPAN
    └─ "Sheets"














ブラウザーが解釈できない CSS に遭遇したらどうなるのか
    多くの人が最新バージョンのブラウザーを使用しているわけでもありません。CSS は常に開発されており
    ブラウザーがまだ認識できないような CSS セレクターや宣言に遭遇するとどうなるか疑問に思われるかも
    しれません。

    その答えは何もせず、 CSS の次の部分に移動するということです。

    同様に、ブラウザーが理解できないセレクターを検出した場合もそのルール全体を無視し
    次のルールに進みます。



    次の例では、色にイギリス英語のスペルを使用しているため、プロパティが正しくありません
    （訳注: color を誤って colour としてしまっている）。よって段落は青くなっていません。
    ただし、他の CSS はすべて適用されています。無効な行のみが無視されます。
HTML
<p>I want this text to be large, bold and blue.</p>

CSS
p {
  font-weight: bold;
  colour: blue; /* color プロパティのスペルが正しくありません */
  font-size: 200%;
}



    例えば、一部の古いブラウザーは calc() をサポートしていません。
    ボックスに対して予防的にピクセル単位の幅を指定しておき、その後 calc() で 
    100% - 50px の幅を指定した場合、古いブラウザーは前者（ピクセル指定）を使用し、理解できない
    calc() を無視します。かたや新しいブラウザーはピクセル指定を理解はできるものの、あとに記述された
     calc() の方を採用します。
.box {
  width: 500px;               古いブラウザはこっち適用
  width: calc(100% - 50px);　　新しいブラウザはこっち適用
}